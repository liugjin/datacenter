<div style="margin-top: 20px;" class="row"><div style="padding-left: 40px;" class="col s12 m8 l8"><a href="" data-target="door-card-modal" ng-click="addCard()" class="btn waves-effect waves-light modal-trigger"><i class="material-icons left">add</i><span>增加门卡</span></a></div><div class="col s12 m4 l4"><div style="width: 36%; margin-right: 30px;position:relative" class="right search-wrapper"><i style="top: 18px;left:6px;position:absolute" class="material-icons">search</i><input type="text" placeholder="搜索" ng-model="search" required="required" style="padding: 3px 8px 3px 32px !important;" class="search-input"/><i style="left: 202px; top: 18px;position:absolute" ng-click="search = ''; page = 1;" ng-show="search" class="material-icons">close</i></div></div></div><div class="row no-margin"><div class="col s12 m12 l12"><div style="border:0px;background-color: rgba(26, 69, 162, 0.4)" class="collection no-margin"><table style="border:0px;" class="bordered striped responsive-table hoverable highlight"><thead><tr style="border-bottom: 1px solid #1a45a2;background-color: rgba(26, 69, 162, 0.4)"><th class="center"><div ng-click="sortBy(&quot;card-id&quot;)" class="col-header"><span>卡ID</span><span ng-show="predicate == &quot;card-id&quot;" class="pull-right">{{reverse && "▽" || "△"}}</span></div></th><th class="center"><div ng-click="sortBy(&quot;card-name&quot;)" class="col-header"><span>卡名称</span><span ng-show="predicate == &quot;card-name&quot;" class="pull-right">{{ reverse && "▽" || "△"}}</span></div></th><th class="center"><div ng-click="sortBy(&quot;card-type&quot;)" class="col-header"><span>卡种类</span><span ng-show="predicate == &quot;card-type&quot;" class="pull-right">{{ reverse && "▽" || "△"}}</span></div></th><th class="center"><div ng-click="sortBy(&quot;card-owner&quot;)" class="col-header"><span>持卡人</span><span ng-show="predicate == &quot;card-owner&quot;" class="pull-right">{{ reverse && "▽" || "△"}}</span></div></th><th class="center"><div ng-click="sortBy(&quot;card-status&quot;)" class="col-header"><span>卡状态</span><span ng-show="predicate == &quot;card-status&quot;" class="pull-right">{{ reverse && "▽" || "△"}}</span></div></th><th class="center"><div ng-click="sortBy(&quot;card-active-start-time&quot;)" class="col-header"><span>卡有效开始时间</span><span ng-show="predicate == &quot;card-active-start-time&quot;" class="pull-right">{{ reverse && "▽" || "△"}}</span></div></th><th class="center"><div ng-click="sortBy(&quot;card-active-end-time&quot;)" class="col-header"><span> 有效结束时间</span><span ng-show="predicate == &quot;card-active-end-time&quot;" class="pull-right">{{reverse && "▽" || "△"}}</span></div></th><th class="center"><div ng-click=" sortBy(&quot;registration-time&quot;)" class="col-header"><span>注册时间</span><span ng-show=" predicate == &quot;registration-time&quot;" class="pull-right">{{ reverse && "▽" || "△"}}</span></div></th><!--th.center--><!--    .col-header(ng-click='vm.sortBy("card-describe")')--><!--        span 备注--><!--        span.pull-right(ng-show='vm.predicate == "card-describe"') {{vm.reverse && "▽" || "△"}}--><th class="center"><div class="col-header"><span>操作</span></div></th><!--th--><!--    .col-header(ng-click='vm.sortBy("card-describe")')--><!--        span 员工备注--><!--        span.pull-right(ng-show='vm.predicate == "card-describe"') {{vm.reverse && "▽" || "△"}}--><!----><!--th--><!--    .col-header(ng-click='vm.sortBy("card-telephone")', title='持续时长管理目标不超过1个小时')--><!--        span 员工固定电话号码--><!--        span.pull-right(ng-show='vm.predicate == "card-telephone"') {{vm.reverse && "▽" || "△"}}--></tr></thead><tbody class="highlight"><!--div(ng-repeat="card in cardEquips")--><!--    span {{card.model.name}}--><!--    span(ng-repeat="property in card.properties.items") {{property.value | }}cards.pageItems : cards.pageItems* (cards.page-1)--><tr style="border-bottom: 1px solid #1a45a2;" ng-repeat="card in cardEquips | filter: filterCard() | orderBy: cards.predicate: cards.reverse| limitTo: cards.pageItems : cards.pageItems* (cards.page-1)" class="highlight"><!--td(style="padding:10px 5px") {{event.startTime| date:'yyyy-MM-dd HH:mm:ss'}}--><td style="padding:10px 5px" class="center">{{card.getPropertyValue('card-id')}}</td><td style="padding:10px 5px" class="center">{{card.getPropertyValue('card-name')}}</td><td style="padding:10px 5px" class="center">{{cardType[card.getPropertyValue('card-type')].name}}</td><td style="padding:10px 5px" class="center">{{getOwername(card.getPropertyValue('card-owner'))}}</td><td style="padding:10px 5px" class="center">{{cardstatus[card.getPropertyValue('card-status')].name}}</td><td style="padding:10px 5px" class="center">{{card.getPropertyValue('card-active-start-time')| date:'yyyy-MM-dd HH:mm:ss'}}</td><td style="padding:10px 5px" class="center">{{card.getPropertyValue('card-active-end-time')| date:'yyyy-MM-dd HH:mm:ss'}}</td><td style="padding:10px 5px" class="center">{{card.getPropertyValue('registration-time')| date:'yyyy-MM-dd HH:mm:ss'}}</td><!--td.center(style="padding:10px 5px") {{card.getPropertyValue('card-describe')}}--><!--td.center--><!--    a.btn-flat.waves-effect.waves-light.modal-trigger(href='', data-target='door-card-modal', ng-click='card.loadProperties();addCard(card);', title='修改门禁卡信息')--><!--        i.material-icons.small edit--><td class="center"><a href="" data-target="door-card-modal" ng-click="selectCard(card);" style="margin-left: .75rem" class="btn-flat waves-effect waves-light modal-trigger btn modal-trigger">编辑</a><a href="" ng-click="removeEquipment(card)" style="margin-left: .75rem" class="btn-flat waves-effect waves-light modal-trigger btn modal-trigger">删除</a><!--a.btn-flat.waves-effect.waves-light.modal-trigger(href='', data-target='door-card-modal', ng-click='removeEquipment({{card.getPropertyValue("card-id")}})',style="margin-left: .75rem" class="btn modal-trigger") 删除--><!--&nbsp;--><!--a.btn.waves-effect.waves-light.modal-trigger(href='', data-target='event-info-modal', ng-click='vm.selectEvent(event)')--><!--    | 删除-->
</td></tr></tbody></table><span style="padding:1rem 1rem" ng-show="vm.filterStationEvents().items &gt; 0" class="left">记录数：{{vm.filterStationEvents().items}}</span><span style="padding:1rem 1rem" ng-show="vm.cards.items  &gt; 0" class="left">记录数：{{vm.cards.items }}</span><ul ng-show="vm.filterStationEvents().pageCount &gt; 1" ng-cloak="ng-cloak" class="pagination right"><li ng-class="{disabled: vm.cards.page &lt;= 1, &quot;waves-effect&quot;: vm.cards.page &gt; 1}" ng-click="vm.cards.page&gt;1?(vm.cards.page = vm.cards.page - 1):0"><a href="" ng-class="{'black-text':vm.cards.page &gt; 1}"><i class="material-icons">chevron_left</i></a></li><li ng-class="{active: page == vm.cards.page, &quot;waves-effect&quot;: page != vm.cards.page}" ng-repeat="page in vm.filterStationEvents().pages" ng-click="vm.cards.page=page" ng-if="(page&gt;(vm.cards.page-4)&amp;&amp;page&lt;(vm.cards.page+4))||page==1||page==vm.filterStationEvents().pageCount"><a style="color:#00a856;" href="">{{((page>(vm.cards.page-3)&&page<(vm.cards.page+3))||page==1||page==vm.filterStationEvents().pageCount) ? page:".."}}</a></li><li ng-class="{disabled: vm.cards.page &gt;= vm.filterStationEvents().pageCount, &quot;waves-effect&quot;: vm.cards.page &lt; vm.filterStationEvents().pageCount}" ng-click="vm.cards.page&lt;vm.filterStationEvents().pageCount?(vm.cards.page = vm.cards.page + 1):0"><a href="" ng-class="{'black-text':vm.cards.page &lt; vm.filterStationEvents().pageCount}"><i class="material-icons">chevron_right</i></a></li></ul></div></div></div><!--include ./doormanager/door-card.html.jade--><div id="door-card-modal" md-modal="md-modal" class="modal modal-fixed-footer"><div class="modal-content"><div class="row"><div class="input-field col s12 m6 l6"><label class="active">卡种类</label><select md-select="md-select" ng-model="data.cardtype" ng-change="" ng-options="card.type as card.name for card in cardType"></select></div><div ng-show="!data.add" class="input-field col s12 m6 l6"><!--input#card-id-input.validate(type='text', ng-model='vm.currentcard.cardid', ng-disabled='vm.currentcard._id',ng-click="vm.inputSelectAll($event)")--><input id="card-id-input" type="text" ng-model="data.cardid" ng-click="vm.inputSelectAll($event)" class="validate"/><label ng-class="{active: data.cardid}">卡ID</label></div><div ng-show="data.add" class="input-field col s12 m6 l2"><!--input#card-id.validate(type='text', ng-model='vm.currentcard.cardid', ng-disabled='vm.currentcard._id',ng-click="vm.inputSelectAll($event)")--><input id="card-id" type="text" ng-model="data.cardid" ng-click="vm.inputSelectAll($event)" class="validate"/><label ng-class="{active: data.cardid}">卡ID</label></div><div ng-show="data.add" class="input-field col s12 m6 l2"><label class="active">发卡器</label><select md-select="md-select" ng-model="data.sendCard" ng-change="" ng-options="property.id as property.name for property in sendCardOptions"></select></div><div ng-show="data.add" class="input-field col s12 m6 l2"><a href="" ng-click="vm.getCardNumber()" class="waves-effect waves-light btn">获取卡号</a></div><div class="input-field col s12 m6 l6"><input type="text" ng-model="data.cardname" class="validate"/><label ng-class="{active: data.cardname}">卡名称</label></div><div class="input-field col s12 m6 l6"><label class="active">持卡人</label><select md-select="md-select" ng-model="data.cardowner" ng-change="" ng-options="property.id  as property.name for property in peoplesselectoptions"></select></div><div class="input-field col s12 m6 l6"><label class="active">卡状态</label><select md-select="md-select" ng-model="data.cardstatus" ng-change="" ng-options="card.type as card.name for card in cardstatus"></select></div><div class="input-field col s12 m6 l6"><!--input.validate(type='text', ng-model='vm.currentcard.registrationtime')--><!--label(ng-class='{active: vm.currentcard.registrationtime}')--><i class="material-icons prefix">today</i><input type="date" input-format="input-format" ng-model="data.registrationtime" class="validate"/><label ng-class="{active: vm.currentcard.registrationtime}">注册时间</label></div><div class="input-field col s12 m6 l6"><i class="material-icons prefix">today</i><input type="date" input-format="input-format" ng-model="data.cardactivestarttime" class="validate"/><label ng-class="{active: vm.currentcard.cardactivestarttime}">有效开始时间</label></div><div class="input-field col s12 m6 l6"><i class="material-icons prefix">today</i><input type="date" input-format="input-format" ng-model="data.cardactiveendtime" class="validate"/><label ng-class="{active: vm.currentcard.cardactiveendtime}">有效结束时间</label></div><div class="input-field col s12 m6 l6"><textarea type="text" ng-model="data.carddescribe" class="validate materialize-textarea"></textarea><label ng-class="{active: data.carddescribe}">备注</label></div></div></div><div class="modal-footer modal-nav"><nav ng-class="mvm.setting.theme" class="teal"><div class="nav-wrapper"><ul><li><a ng-click="saveEquipment()"><i class="material-icons left">save</i><span class="hide-on-med-and-down">保存</span></a></li><!--li(ng-show='cardSelected == true')--><!--    a(ng-click='removeEquipment()')--><!--        i.material-icons.left delete--><!--        span.hide-on-med-and-down 删除--><ul class="right"><li><a href="" class="modal-action modal-close"><i class="material-icons left">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></ul></div></nav></div></div><!--include ./modals/equipment-modal-card.html.jade--><prompt-modal options="vm.promptModel"></prompt-modal>