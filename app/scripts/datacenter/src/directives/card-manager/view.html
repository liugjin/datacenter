<div class="row nav-top"><div class="col s12 bottom"><station-breadcrumbs controller="vm" parameters="{}" class="inline-left"></station-breadcrumbs><nav class="inline-right"><div class="nav-flex-grow right"><a href="" title="增加卡" data-target="door-card-modal" ng-click="addEquip()" ng-show="project.model._role.operations[0]=='_all' || project.model._role.operations.indexOf('setting')&gt;=0" class="waves-effect waves-light btn modal-trigger"><div class="left"><img ng-src="{{addImg}}"/></div><span>增加卡</span></a></div><div class="search-wrapper right"><i class="material-icons">search</i><input type="text" placeholder="搜索" ng-model="search" required="required" class="search-input"/><i style="left: 185px;" ng-click="search = ''; pageIndex = 1;" ng-show="search" class="material-icons">close</i></div></nav></div></div><div class="row"><div style="margin-top: -5px" class="col s12"><div class="card-list"><div class="card-content"><table class="card-table new-table"><thead><tr class="border-bottom"><th>&nbsp;</th><!--td.head-block
    label
        input(type="checkbox" class="filled-in" ng-model="select" ng-change="selectAll()")
        span &nbsp;--><th>卡ID</th><th>卡名称</th><th>卡种类</th><th>持卡人</th><th>卡状态</th><th>卡有效开始时间</th><th>卡有效结束时间</th><th>注册时间</th><th ng-show="project.model._role.operations[0]=='_all' || project.model._role.operations.indexOf('setting')&gt;=0">操作</th></tr></thead><tbody><tr ng-repeat="card in cardEquips | filter: filterCard() | limitTo: pageItems * pageIndex | limitTo: limitToEquipment()" class="border-bottom"><td>&nbsp;</td><!--td.head-block
    label
        input(type="checkbox" class="filled-in" ng-model="card.checked" ng-change="selectOne()")
        span &nbsp;--><td>{{card.getPropertyValue('card-id')}}</td><td>{{card.getPropertyValue('card-name')}}</td><td>{{formatValue('card-type', card.getPropertyValue('card-type'))}}</td><td>{{getOweName(card.getPropertyValue('card-owner'))}}</td><td>{{formatValue('card-status', card.getPropertyValue('card-status'))}}</td><td>{{card.getPropertyValue('card-active-start-time')| date:'yyyy-MM-dd HH:mm:ss'}}</td><td>{{card.getPropertyValue('card-active-end-time')| date:'yyyy-MM-dd HH:mm:ss'}}</td><td>{{card.getPropertyValue('registration-time')| date:'yyyy-MM-dd HH:mm:ss'}}</td><td ng-show="project.model._role.operations[0]=='_all' || project.model._role.operations.indexOf('setting')&gt;=0"><a title="编辑设备" href="" data-target="door-card-modal" ng-click="selectEquip(card)" class="waves-effect waves-light modal-trigger"><img ng-src="{{editImg}}"/></a><a title="删除设备" href="" ng-click="deleteEquip(card); $event.stopPropagation();" class="waves-effect waves-light"><img ng-src="{{deleteImg}}"/></a></td></tr></tbody></table><div style="margin-top: 1rem;" class="col s12 m12 l12 eventpagination"><div style="flex:1;"></div><div style="flex:2;" class="valign-wrapper"><div style="margin: 0 auto;"><ul ng-show="filterEquipmentItem().pageCount &gt; 1" ng-cloak="ng-cloak" class="pagination center"><li ng-class="{disabled: pageIndex &lt;= 1, &quot;waves-effect&quot;: pageIndex &gt; 1}" ng-click="pageIndex&gt;1?(pageIndex = pageIndex - 1):0" class="page-button"><a href="" ng-class="{'choose-text': pageIndex &gt; 1}"><i class="material-icons">chevron_left</i></a></li><li ng-class="{active: page == pageIndex, &quot;waves-effect&quot;: page != pageIndex}" ng-repeat="page in filterEquipmentItem().pages" ng-click="selectPage(page)" ng-if="(page&gt;(pageIndex-4)&amp;&amp;page&lt;(pageIndex+4)) || page==1 || page==filterEquipmentItem().pageCount" class="page-button"><a href="">{{( (page>(pageIndex-3)&&page<(pageIndex+3)) || page==1 || page==filterEquipmentItem().pageCount ) ? page : ".."}}</a></li><li ng-class="{disabled: pageIndex &gt;= filterEquipmentItem().pageCount, &quot;waves-effect&quot;: pageIndex &lt; filterEquipmentItem().pageCount}" ng-click="pageIndex&lt;filterEquipmentItem().pageCount?(pageIndex = pageIndex + 1):0" class="page-button last"><a href="" ng-class="{'choose-text': pageIndex &lt; filterEquipmentItem().pageCount}"><i class="material-icons">chevron_right</i></a></li></ul></div></div><div style="flex:1;"></div></div></div></div></div></div><div id="door-card-modal" md-modal="md-modal" class="modal"><div class="modal-content setSelectBgcolor"><div class="row no-margin door-card"><div class="col l12 nav-top"><nav><div class="nav-flex-grow left"><a href="" ng-click="closeModal()" title="收起" class="waves-effect waves-light btn"><div class="left"><img ng-src="{{closeImg}}"/></div><span>收起</span></a></div><div class="nav-flex-grow right"><a href="" ng-click="refreshData()" title="重置" style="margin-right: 0;" class="waves-effect waves-light btn"><div class="left"><img ng-src="{{refreshImg}}"/></div><span>重置</span></a></div><div class="nav-flex-grow right"><a href="" ng-click="saveEquipment()" title="保存" class="waves-effect waves-light btn"><div class="left"><img ng-src="{{saveImg}}"/></div><span>保存</span></a></div></nav></div><div class="col l12 nav-item"><div style="margin-top: .75rem;" class="col l6"><label>卡种类</label><div class="input-field"><select ng-model="currentCard.cardType" md-select="md-select"><option ng-repeat="map in findProperty('card-type').model.format.split(',')" value="{{map.split(':')[0]}}" ng-selected="property.value==map.split(':')[0]">{{map.split(':')[1]}}</option></select></div></div><div style="margin-top: .75rem;" ng-show="!currentCard.add" class="col l6"><label>卡ID</label><div class="input-field"><input type="text" ng-model="currentCard.cardId" disabled="disabled" class="validate disabled"/></div></div><div style="margin-top: .75rem;" ng-show="currentCard.add" class="col l3"><label>卡ID</label><div class="input-field"><input type="text" ng-model="currentCard.cardId" maxlength="13" class="validate"/></div></div><div style="margin-top: .75rem;" ng-show="currentCard.add" class="col l3"><label>发卡器</label><div class="input-field"><select ng-model="currentCard.sendCard" md-select="md-select" ng-change="selectSendCard()"><option value="0">请选择</option><option ng-repeat="send in sendCards" value="{{send.model.equipment}}" ng-selected="currentCard.sendCard == send.model.equipment">{{send.model.name}}</option></select></div></div><!--.col.l2(style="margin-top: 2.45rem;" ng-show="currentCard.add")a.waves-effect.waves-light.btn(href='' ng-click='getCardNumber()') 获取卡号--><div style="margin-top: .75rem;" class="col l6"><label>卡名称</label><div class="input-field"><input type="text" ng-model="currentCard.cardName" class="validate"/></div></div><div style="margin-top: .75rem;" class="col l6"><label>持卡人</label><div class="input-field"><select ng-model="currentCard.cardOwner" md-select="md-select"><option value="0">请选择</option><option ng-repeat="people in peopleEquips" value="{{people.model.equipment}}" ng-selected="currentCard.cardOwner == people.model.equipment">{{people.model.name}}</option></select></div></div><div style="margin-top: .75rem;" class="col l6"><label>卡状态</label><div class="input-field"><select ng-model="currentCard.cardStatus" md-select="md-select"><option ng-repeat="map in findProperty('card-status').model.format.split(',')" value="{{map.split(':')[0]}}" ng-selected="property.value==map.split(':')[0]">{{map.split(':')[1]}}</option></select></div></div><div style="margin-top: .75rem;" class="col l6"><label>注册时间</label><div class="input-field"><input type="date" input-format="input-format" ng-model="currentCard.registrationTime" disabled="disabled" class="validate disabled"/></div></div><div style="margin-top: .75rem;" class="col l6"><label>有效开始时间</label><div class="input-field"><input type="date" input-format="input-format" ng-model="currentCard.cardActiveStartTime" class="validate"/></div></div><div style="margin-top: .75rem;" class="col l6"><label>有效结束时间</label><div class="input-field"><input type="date" input-format="input-format" ng-model="currentCard.cardActiveEndTime" class="validate"/></div></div><div style="margin-top: .75rem;" class="col l6"><label>设备厂商</label><div class="input-field"><select ng-model="currentCard.vendor" md-select="md-select"><option value="0">请选择</option><option ng-repeat="man in manufactorArr" value="{{man.vendor}}" ng-selected="currentCard.vendor == man.vendor">{{man.name}}</option></select></div></div><div style="margin-top: .75rem;" class="col l6"><label>备注</label><div class="input-field"><input type="text" ng-model="currentCard.cardDescribe" class="validate"/></div></div><div style="margin-top: .75rem;" class="col l6"><label>所属站点</label><div class="input-field"><select ng-model="currentCard.station" md-select="md-select"><option value="0">请选择</option><option ng-repeat="station in stations" value="{{station.model.station}}" ng-selected="currentCard.station == station.model.station">{{station.model.name}}</option></select></div></div></div></div></div></div>