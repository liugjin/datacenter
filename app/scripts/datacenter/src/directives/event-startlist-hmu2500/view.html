<table class="bordered hoverable highlight centered new-table"><thead><tr><th ng-click="sortBy(&quot;severity&quot;)" style="width: 6%;" class="col-header"><span>告警级别</span><span ng-show="predicate == &quot;severity&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th><th ng-click="sortBy(&quot;index&quot;)" class="col-header text-align-left"><span>#</span><span ng-show="predicate == &quot;index&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th><th ng-click="sortBy(&quot;stationName&quot;)" class="col-header text-align-left"><span>站点名称</span><span ng-show="predicate == &quot;stationName&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th><th ng-click="sortBy(&quot;equipmentName&quot;)" class="col-header text-align-left"><span>设备名称</span><span ng-show="predicate == &quot;equipmentName&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th><th ng-click="sortBy(&quot;title&quot;)" class="col-header text-align-left"><span>告警名称</span><span ng-show="predicate == &quot;title&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th><th ng-click="sortBy(&quot;startValue&quot;)" class="col-header text-align-left"><span>开始值</span><span ng-show="predicate == &quot;startValue&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th><th ng-click="sortBy(&quot;startTime&quot;)" class="col-header text-align-left"><span>开始时间</span><span ng-show="predicate == &quot;startTime&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th><th ng-click="sortBy(&quot;phase&quot;)" class="col-header text-align-left"><span>告警确认</span><span ng-show="predicate == &quot;phase&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th><th ng-click="sortBy(&quot;duration&quot;)" title="持续时长管理目标不超过1个小时" class="col-header text-align-left"><span>持续时长</span><span ng-show="predicate == &quot;duration&quot;" class="pull-right">{{vm.reverse && "▽" || "△"}}</span></th></tr></thead><tbody style="overflow: auto"><tr ng-repeat="event in eventsArray | filter: filterEvent() | orderBy: predicate:reverse | limitTo:parameters.pageItem:(selectedPage-1)*parameters.pageItem" ng-class="{&quot;active&quot;: event == selectedEvent}" data-target="event-details-modal" ng-click="selectEvent(event)" class="modal-trigger text-align-left"><td><a style="margin-top:0.8rem" class="waves-effect waves-light"><i ng-style="{color: event.color}" title="{{event.severityName}}, 点击查看告警细节" class="material-icons small">{{event.phase == "start" && "notifications_on" || event.phase == "confirm" && "notifications_paused" || event.phase == "end" && "notifications_off" || event.phase == "completed" && "notifications" || "notifications_none"}}</i></a></td><td class="text-align-left"><span>{{event.index}}</span></td><td class="text-align-left"><span>{{event.stationName || event.station}}</span></td><td class="text-align-left"><a ng-click="$event.stopPropagation();" ng-href="#/monitoring/{{event.user}}/{{event.project}}?&amp;station={{event.station}}&amp;equipment={{event.equipment}}&amp;type={{event.equipmentType}}" title="查看设备实时详情"><span>{{event.equipmentName || event.equipment}}</span></a></td><td class="text-align-left"><!--a(ng-href='#/equipment-plan/{{event.user}}/{{event.project}}?&station={{event.station}}&equipment={{event.equipment}}&event={{event.event}}&tab=events', title='查看设备告警状态')--><span>{{event.title || event.event}}</span></td><td class="text-align-left"><span>{{event.startValue | prettyNumber:2}}</span></td><td class="text-align-left"><span>{{event.startTime| date:'yyyy-MM-dd HH:mm:ss'}}</span></td><td class="text-align-left"><span>{{event.phase == "confirm" ? "已确认" : "未确认"}}</span></td><td class="text-align-left"><span style="white-space: nowrap;text-overflow: ellipsis;" title="{{event | duration}}">{{event | duration}}</span><div title="{{event.progress}}" class="progress"><div ng-class="{}" ng-style="{width: event.progress, &quot;background-color&quot;: event.color}" class="determinate"></div></div></td></tr></tbody></table><ul ng-show="filterStationEvents().pageCount &gt; 1" class="pagination center"><li ng-class="{disabled: selectedPage &lt;= 1, &quot;waves-effect&quot;: selectedPage &gt; 1}" ng-click="changePage(selectedPage-1)" class="page-button"><a href=""><img ng-src="{{getComponentPath('images/left.svg')}}" width="14px" height:="14px"/></a></li><li ng-class="{active: page == selectedPage , &quot;waves-effect&quot;: page != selectedPage}" ng-repeat="page in filterStationEventsResult.pages" ng-click="changePage(page)" ng-if="(page&gt;(selectedPage-4)&amp;&amp;page&lt;(selectedPage+4))||page==1||page==filterStationEventsResult.pageCount" class="page-button"><a href="">{{((page>(selectedPage-3)&&page<(selectedPage+3))||page==1||page==filterStationEventsResult.pageCount) ? page:".."}}</a></li><li ng-class="{disabled: selectedPage &gt;= filterStationEventsResult.pageCount , &quot;waves-effect&quot;: selectedPage &lt; filterStationEventsResult.pageCount}" ng-click="changePage(selectedPage+1)" class="last page-button"><a href=""><img ng-src="{{getComponentPath('images/right.svg')}}" width="14px" height:="14px"/></a></li></ul><div id="event-details-modal" md-modal="md-modal" class="modal bottom-sheet modal-fixed-footer"><div class="modal-content"><div class="row"><div class="col s12 m6 l3"><div ng-style="{'border-left-color': selectedEvent.color}" title="{{selectedEvent.stationName}} / {{selectedEvent.equipmentName}} / {{selectedEvent.eventName}}" class="equipment-item-title"><span>{{selectedEvent.stationName}} / {{selectedEvent.equipmentName}} / {{selectedEvent.eventName}}</span></div><table class="striped striped responsive-table hoverable highlight"><tbody><tr style="border-top:0;"><td><label>流水号</label></td><td><span>{{selectedEvent.index}}</span></td><td></td></tr><tr><td><label>设备类型</label></td><td><span>{{selectedEvent.equipmentType}}</span></td><td></td></tr><tr><td><label>告警描述</label></td><td><span>{{selectedEvent.title}}</span></td><td></td></tr><tr><td><label>触发值</label></td><td><span>{{selectedEvent.startValue}}</span></td><td></td></tr><tr><td><label>触发时间</label></td><td><span>{{selectedEvent.startTime | date: 'yyyy-MM-dd HH:mm:ss'}}</span></td><td></td></tr><tr><td><label>结束值</label></td><td><span>{{selectedEvent.endValue}}</span></td><td></td></tr><tr><td><label>结束时间</label></td><td><span>{{selectedEvent.endTime | date: 'yyyy-MM-dd HH:mm:ss'}}</span></td><td></td></tr><tr><td><label>持续时长</label></td><!--td {{selectedEvent.duration}}--><td><span>{{selectedEvent | duration}}</span><div title="{{selectedEvent.progress}}" class="progress"><div ng-class="{}" ng-style="{width: selectedEvent.progress, &quot;background-color&quot;: selectedEvent.color}" class="determinate"></div></div></td><td></td></tr><tr><td><label>告警等级</label></td><td><span>{{selectedEvent.eventSeverity.name}}</span></td><td class="center"><i ng-style="{color: selectedEvent.color}" title="{{selectedEvent.eventSeverity.name}}" class="material-icons small">{{selectedEvent.phase == "start" && "notifications_on" || selectedEvent.phase == "confirm" && "notifications_paused" || selectedEvent.phase == "end" && "notifications_off" || selectedEvent.phase == "completed" && "notifications" || "notifications_none"}}</i></td></tr><tr><td><label>告警状态</label></td><td><span>{{selectedEvent.phaseName}}</span></td><td></td></tr><tr><td><label>确认人</label></td><td><span>{{selectedEvent.operator}}</span></td><td></td></tr><tr><td><label>确认时间</label></td><td><span>{{selectedEvent.confirmTime | date: 'yyyy-MM-dd HH:mm:ss'}}</span></td><td></td></tr><tr><td><label>备注</label></td><td><span>{{selectedEvent.comment}}</span></td><td></td></tr></tbody></table></div><div class="col s12 m6 l9 alarm-history"><div class="row"><div class="left alarm-history-tips-box"><div class="alarm-history-tips">本年历史告警</div></div><div class="right alarm-info"><label>数据时段: {{eventRecordsParameters.startTime.format('YYYY-MM-DD HH:mm:ss')}} ~ {{eventRecordsParameters.endTime.format('YYYY-MM-DD HH:mm:ss')}}</label><label>&nbsp;/&nbsp;查询时间：</label><label am-time-ago="eventRecordsParameters.queryTime"></label><label>&nbsp;/&nbsp;记录数：{{eventRecords.length}}</label></div></div><div class="row"><table class="bordered striped responsive-table hoverable highlight"><thead><tr><th><div ng-click="eventRecordsSort(&quot;severity&quot;)" class="col-header"><span>级别</span><span ng-show="eventRecordsSort.predicate == &quot;severity&quot;" class="pull-right">{{eventRecordsSort.reverse && "▽" || "△"}}</span></div></th><th><div ng-click="eventRecordsSort(&quot;index&quot;)" class="col-header"><span>#</span><span ng-show="eventRecordsSort.predicate == &quot;index&quot;" class="pull-right">{{eventRecordsSort.reverse && "▽" || "△"}}</span></div></th><th><div ng-click="eventRecordsSort(&quot;title&quot;)" class="col-header"><span>告警名称</span><span ng-show="eventRecordsSort.predicate == &quot;title&quot;" class="pull-right">{{eventRecordsSort.reverse && "▽" || "△"}}</span></div></th><th><div ng-click="eventRecordsSort(&quot;startValue&quot;)" class="col-header"><span>开始值</span><span ng-show="eventRecordsSort.predicate == &quot;startValue&quot;" class="pull-right">{{eventRecordsSort.reverse && "▽" || "△"}}</span></div></th><th><div ng-click="eventRecordsSort(&quot;endValue&quot;)" class="col-header"><span>结束值</span><span ng-show="eventRecordsSort.predicate == &quot;endValue&quot;" class="pull-right">{{eventRecordsSort.reverse && "▽" || "△"}}</span></div></th><th><div ng-click="eventRecordsSort(&quot;startTime&quot;)" class="col-header"><span>开始时间</span><span ng-show="eventRecordsSort.predicate == &quot;startTime&quot;" class="pull-right">{{eventRecordsSort.reverse && "▽" || "△"}}</span></div></th><th><div ng-click="eventRecordsSort(&quot;endTime&quot;)" class="col-header"><span>结束时间</span><span ng-show="eventRecordsSort.predicate == &quot;endTime&quot;" class="pull-right">{{eventRecordsSort.reverse && "▽" || "△"}}</span></div></th><th><div ng-click="eventRecordsSort(&quot;duration&quot;)" title="持续时长管理目标不超过1个小时" class="col-header"><span>持续时长</span><span ng-show="eventRecordsSort.predicate == &quot;duration&quot;" class="pull-right">{{eventRecordsSort.reverse && "▽" || "△"}}</span></div></th></tr></thead><tbody><tr ng-repeat="event in eventRecords | orderBy: eventRecordsParameters.predicate:eventRecordsParameters.reverse"><td><i ng-style="{color: event.color}" title="{{event.eventSeverity.name}}" class="material-icons small">{{event.phase == "start" && "notifications_on" || event.phase == "confirm" && "notifications_paused" || event.phase == "end" && "notifications_off" || event.phase == "completed" && "notifications" || "notifications_none"}}</i></td><td>{{event['_index']}}</td><td>{{event.title || event.event}}</td><td>{{event.startValue | prettyNumber:2}}</td><td>{{event.endValue | prettyNumber:2}}</td><td>{{event.startTime| date:'yyyy-MM-dd HH:mm:ss'}}</td><td>{{event.endTime| date:'yyyy-MM-dd HH:mm:ss'}}</td><td><span>{{event | duration}}</span></td></tr></tbody></table></div></div></div></div><div class="modal-footer modal-nav"><nav><div class="nav-wrapper"><ul class="control-list"><li><a href="" ng-click="confirmActiveEvent(selectedEvent)" title="确认当前告警" class="btn-hover"><i class="material-icons left">done</i><span class="hide-on-med-and-down">确认告警</span></a></li><li><a href="" ng-click="confirmActiveEvent(selectedEvent, true)" title="强制结束告警" class="btn-hover"><i class="material-icons left">check_circle</i><span class="hide-on-med-and-down">强制结束</span></a></li><li><a href="" ng-click="confirmStationEvents(station)" title="确认机房所有告警" class="btn-hover"><i class="material-icons left">done_all</i><span class="hide-on-med-and-down">确认机房</span></a></li><li><a href="" ng-click="endKeyEvents(station)" title="结束机房所有告警" class="btn-hover"><i class="material-icons left">done_all</i><span class="hide-on-med-and-down">一键结束      </span></a></li></ul><ul class="right"><li><a href="" class="btn-hover modal-action modal-close"><i class="material-icons left">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></div></nav></div></div><div id="event-startlist-prompt-modal" class="modal"><div class="modal-content"><p><span class="modal-title">{{modal.tips}}:</span><span class="modal-info">{{modal.info}}</span></p><p><span class="modal-remark">{{modal.message}}</span></p><input type="text" ng-model="modal.comment" ng-show="modal.enableComment"/></div><div class="modal-footer"><div ng-click="modal.confirm(true)" class="modal-CONTRIM modal-action right modal-close"><i class="material-icons">done</i><span>确认</span></div><div ng-click="modal.confirm(false)" class="modal-CANCEL modal-action right modal-close"><i class="material-icons">close</i><span>取消</span></div></div></div>