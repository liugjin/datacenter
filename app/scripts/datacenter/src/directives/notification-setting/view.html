<div class="row nav-top"><div class="col s2"><span>告警通知配置</span></div><div class="col s10"></div></div><div class="row"><div class="col l12"><div class="cool-content"><div class="basic-configuration"><div class="basic-title"><span>基础服务配置</span></div><div class="basic-content"><a href="#mail-modal" title="邮件服务器配置" class="btn modal-trigger">邮件服务器配置</a><a href="#sms-modal" style="margin-left: 32px" title="短信猫配置" class="btn modal-trigger">短信猫配置</a></div></div><div class="content-selection"><div class="notification-method"><div ng-repeat="item in categories" ng-click="cates_chan(item.type)" ng-class="{'select-style':cate==item.type,'uncheck-style':cate!=item.type}" class="notification-selection"><div class="iocn-title"><img src="{{item.imgUrl}}" width="22px" height="22x"/><span>{{item.name}}</span></div><div class="right-iocn"><img src="{{getComponentPath('images/right.svg')}}" width="22px" height="22x" class="right"/></div></div></div><div class="notification-configure"><div class="notification-content"><div class="single-content"><div class="configure-title"><div class="cool-choice"><label><input type="checkbox" value="" ng-model="allUsers" checked="{{allUsers}}" ng-change="selectAll('users', 'allUsers')" class="filled-in"/><span>选择用户</span></label></div></div><div class="con-content"><div ng-repeat="item in users" class="cool-choice"><label><input type="checkbox" ng-model="item.checked" checked="item.checked" value="{{item.id}}" ng-change="checkAll(item,'users','allUsers')" class="filled-in"/><span>{{item.name}}</span></label></div></div></div><div class="single-content"><div class="configure-title"><div class="cool-choice"><label><input type="checkbox" value="" ng-model="allTypes" checked="{{allTypes}}" ng-change="selectAll('types', 'allTypes')" class="filled-in"/><span>选择设备类型</span></label></div></div><div class="con-content"><div ng-repeat="item in types" ng-if="item.id !='Facility' &amp;&amp; item.id !='_SMS' &amp;&amp; item.id !='_station_management'" class="cool-choice"><label><input type="checkbox" ng-model="item.checked" checked="item.checked" value="{{item.id}}" ng-change="checkAll(item,'types','allTypes')" class="filled-in"/><span>{{item.name}}</span></label></div></div></div><div class="single-content"><div class="configure-title"><div class="cool-choice"><label><input type="checkbox" value="" ng-model="allSeverities" checked="{{allSeverities}}" ng-change="selectAll('severities', 'allSeverities')" class="filled-in"/><span>选择事件等级</span></label></div></div><div class="con-content"><div ng-repeat="item in severities" class="cool-choice"><label><input type="checkbox" ng-model="item.checked" checked="item.checked" value="{{item.id}}" ng-change="checkAll(item,'severities','allSeverities')" class="filled-in"/><span>{{item.name}}</span></label></div></div></div><div class="single-content"><div class="configure-title"><div class="cool-choice"><label><span>事件阶段</span></label></div></div><div class="con-content"><div ng-repeat="item in phases" ng-if="item.id=='start' || item.id=='end'" class="cool-choice"><label><input type="checkbox" ng-model="item.checked" checked="item.checked" value="{{item.id}}" ng-change="checkAll(item,'phases','allPhases')" class="filled-in"/><span>{{item.name}}</span></label></div></div></div><div class="single-content"><div class="configure-title"><div class="cool-choice"><label><span>通知格式</span></label></div></div><div ng-show="cate =='email'" class="con-content"><div ng-repeat="item in formats" class="cool-choice"><label><input type="checkbox" value="" ng-model="item.checked" checked="{{item.checked}}" ng-disabled="{{item.disabled}}" class="filled-in"/><span>{{item.name}}</span></label></div></div><div ng-show="cate !='email'" class="con-content"><div ng-repeat="item in formats" ng-if="item.id !='station' &amp;&amp; item.id !='startTime'" class="cool-choice"><label><input type="checkbox" value="" ng-model="item.checked" checked="{{item.checked}}" ng-disabled="{{item.disabled}}" class="filled-in"/><span>{{item.name}}</span></label></div></div></div></div><div class="notification-preserve"><a ng-click="save()" title="保存告警规则" class="btn"><span>保存</span></a></div></div></div></div></div></div><div id="mail-modal" md-modal="md-modal" class="modal"><div style="height:50px;line-height:50px;margin:0" class="row nav-top"><div class="col s12 m12 l12 modal-head"><div class="modal-name"><span>邮件服务配置</span></div><div class="close-modal modal-close"><i class="material-icons">close</i></div></div></div><div class="modal-content"><div style="margin-bottom: 14px" class="cat-basic"><div class="cat-title">基础配置</div><div class="cat-content"><div style="height:100%" class="built-content"><div style="height:20%" class="input-box"><label style="width:30%">邮件服务器：</label><input type="text" ng-model="mail.options.host" class="validate input-new-css"/><label style="text-align: center" class="color-txt">输入邮件服务器域名或IP地址</label></div><div style="height:20%" class="input-box"><label style="width:30%">用户名：</label><input type="text" ng-model="mail.options.auth.user" class="validate input-new-css"/><label style="text-align: center" class="color-txt">输入邮件用户名</label></div><div style="height:20%" class="input-box"><label style="width:30%">密码：</label><input type="password" ng-model="mail.options.auth.pass" class="validate input-new-css"/><label style="text-align: center" class="color-txt">密码需与邮件用户名和邮件服务器匹配</label></div><div style="height:20%" class="input-box"><label style="width:30%">发件端口：</label><input type="text" ng-model="mail.options.port" class="validate input-new-css"/><label style="text-align: center" class="color-txt">默认465，建议不修改</label></div><div style="justify-content:flex-start;height:20%" class="input-box"><a ng-click="saveMail()" title="保存邮件服务器配置" class="btn">保存</a></div></div></div></div><div class="sms-test"><div class="sms-title">邮件发送测试</div><div class="sms-contentr"><div class="input-box"><label style="width:14%">收件账号：</label><input type="text" ng-model="email" style="width:44%" class="validate input-new-css"/><a ng-click="test(email, 'email')" title="测试邮件发送功能" style="margin-left:54px;height:2.4rem" class="btn"><span>单击测试</span></a></div></div></div></div></div><div id="sms-modal" md-modal="md-modal" class="modal"><div style="height:50px;line-height:50px;margin:0" class="row nav-top"><div class="col s12 m12 l12 modal-head"><div class="modal-name"><span>短信猫配置</span></div><div class="close-modal modal-close"><i class="material-icons">close</i></div></div></div><div class="modal-content"><div class="cat-basic"><div class="cat-title">基础配置</div><div class="cat-content"><div class="built-content"><div class="input-box"><label style="width:30%">端口号：</label><input type="text" ng-model="sms.options.port" ng-disabled="innerSms" ng-class="{'grey darken-1': innerSms}" class="validate input-new-css"/><label style="text-align: center" class="color-txt">短信猫输入到网关上的端口号</label></div><div class="input-box"><label style="width:30%">波特率：</label><input type="text" ng-model="sms.options.baudRate" ng-disabled="innerSms" ng-class="{'grey darken-1': innerSms}" class="validate input-new-css"/><label style="text-align: center" class="color-txt">短信猫的通讯波特率</label></div><div class="input-box"><label style="width:30%">SCA：</label><input type="text" ng-model="sms.options.sca" ng-disabled="innerSms" ng-class="{'grey darken-1': innerSms}" class="validate input-new-css"/><label style="text-align: center" class="color-txt">运营商短信中心号码</label></div><div style="justify-content:flex-start" class="input-box"><a ng-click="saveSMS()" title="保存短信配置" class="btn">保存</a></div></div></div></div><div class="sms-test"><div class="sms-title">短信发送测试</div><div class="sms-contentr"><div class="input-box"><label style="width:14%">手机号：</label><input type="text" ng-model="phone" style="width:44%" class="validate input-new-css"/><a ng-click="test(phone, 'sms')" title="测试短信功能" style="margin-left:54px;height:2.4rem" class="btn"><span>单击测试</span></a></div></div></div></div></div>