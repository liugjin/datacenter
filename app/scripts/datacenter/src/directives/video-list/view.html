<style>.modal.image-path {
    width: 40%;
}</style><link type="text/css" rel="stylesheet" href="/lib/vxgplayer/vxgplayer-1.8.54.min.css"/><!--  站点选择 + 搜索模块--><div class="row nav-top"><div style="padding-right:0" class="col s12"><nav><div class="nav-wrapper"><ul><li><a href="" data-target="datacenters" data-cover-trigger="false" data-hover="true" data-constrain-width="false" md-dropdown="md-dropdown" title="{{datacenter.model.name}}" class="dropdown-trigger"><span>{{datacenter.model.name}}</span><i class="material-icons right-2">arrow_drop_down</i></a></li><li><span>/</span></li><li><a href="" data-target="stations" data-cover-trigger="false" data-hover="true" data-constrain-width="false" md-dropdown="md-dropdown" title="{{station.model.name}}" class="dropdown-trigger"><i class="material-icons right-2">arrow_drop_down</i>{{station.model.name}}</a></li></ul></div></nav><ul id="datacenters" class="dropdown-content"><li ng-repeat="station in datacenters" ng-class="{active: station.key == station.key}"><a ng-href="" ng-click="selectDatacenter(station)"><span>{{station.model.name}}</span></a></li></ul><ul id="stations" class="dropdown-content"><li><a ng-href="" ng-click="selectStation(datacenter)"><span>{{datacenter.model.name}}</span></a></li><li ng-repeat="station in datacenter.stations"><a ng-href="" ng-click="selectStation(station)"><span>{{station.model.name}}</span></a></li></ul></div></div><div class="row"><!-- 摄像头列表 摄像头控制--><div class="col l2 box-width-control1"><div class="cool-card"><div title="搜索摄像头" style="padding: .75rem" class="search-box"><input type="search" ng-model="search" placeholder="摄像头名称" required="required"/><i class="material-icons search-icon">search</i><i ng-click="search = &quot;&quot;" ng-show="search" class="material-icons close-icon">close</i></div><div class="ptz name-list-box"><div style="margin-top:10px;" class="valign-wrapper"><img ng-src="{{videospng}}" style="width:20px;margin-right:10px;" class="modal-trigger"/><span style="font-size:0.875rem;flex-grow:3">摄像头列表</span><i href="#video-modal" ng-click="createVideo()" title="新增摄像头" style="cursor:pointer" class="material-icons modal-trigger add-video-head">add</i><i ng-show="nums[flag].model" href="#video-modal" ng-click="editVideo()" title="编辑摄像头" style="cursor:pointer" class="add-video-head material-icons modal-trigger">edit</i></div><p class="p"></p><div style="height:92%;overflow:auto" class="list"><div ng-repeat="video in videos|filter:filterVideo" ng-click="playVideo(video)" style="cursor:pointer;height:30px;line-height:30px;" ng-class="{'active':nums[flag]==video}" class="video-list"><div class="valign-wrapper"><img src="{{videopngselect}}" style="width:20px;margin-right:10px;" ng-show="nums[flag]==video"/><img src="{{videopng}}" style="width:20px;margin-right:10px;" ng-show="nums[flag]!==video"/><span style="font-size:0.875rem; font-style:inherit;flex-grow:3;" ng-style="{color: status[video.model.station+'.'+video.model.equipment] == 0 ? '#e2edf2':'gray'}">{{video.model.name}}</span><label style="margin-left:20px;color:rgb(11,189,202);" ng-if="nums.indexOf(video)&gt;=0">播放中</label></div></div></div></div></div></div><!-- 视频区块  播放、停止、截图、下载控件、布局 及视频播放块--><div style="height:100%;" class="col l10 box-width-control2 videos"><div style="margin-bottom:0;background-color:rgba(26, 69, 162, 0.4);" class="row"><div class="col s12"><div class="row"><div style="margin-top:6px;margin-bottom:6px;" class="col s12"><div class="video-body-container"><div style="display:inline-flex" class="btn-menu left"><div ng-click="screenShot()" title="截图" ng-class="{'disabled': !playing}" class="btn waves-effect waves-light"><i class="material-icons left">whatshot</i>截图</div><div href="#image-path" title="查看截图" ng-show="imagePath" class="btn"><i class="material-icons left">whatshot</i>查看截图</div><div ng-click="stopAll()" title="全部停止播放" ng-class="{'disabled': !playing}" class="btn"><i class="material-icons left">pause</i>全部停止</div><div ng-click="playAll()" title="全部开始播放" ng-class="{'disabled': playing}" class="btn"><i class="material-icons left">play_arrow</i>全部播放</div><a href="{{vxgplayerpath}}" title="下载视频播放控件" class="btn"><i class="material-icons left">cloud_download</i>下载视频播放控件</a><div href="" title="查看历史视频" ng-click="openIE()" class="btn"><i class="material-icons left">search</i>查看历史视频</div><div href="" title="查看高可靠视频" ng-click="openHighReliable()" class="btn"><i class="material-icons left">visibility</i>查看高可靠视频</div></div><div style="display:inline-flex" class="right btn-menu"><div ng-click="changeLayout(1)" title="1X1" ng-class="{'active': number==1}" class="button btn"><i class="icon-wnd-1"></i></div><div ng-click="changeLayout(2)" title="2X2" ng-class="{'active': number==2}" class="button btn"><i class="icon-wnd-2"></i></div><div ng-click="changeLayout(3)" title="3X3" ng-class="{'active': number==3}" class="button btn"><i class="icon-wnd-3"></i></div><div ng-click="changeLayout(4)" title="4X4" ng-class="{'active': number==4}" class="button btn"><i class="icon-wnd-4"></i></div></div></div></div></div><div class="row"><div style="height:100%;" class="col s12"><div ng-repeat="n in nums" ng-class="{'m12':number==1, 'm6':number==2, 'm4':number==3, 'm3':number==4, 'selected':flag==$index, 'unselected':flag!=$index}" ng-mousedown="setWindow($index)" style="padding:2px;background-color:transparent !important;" class="col s12 black"><single-video controller="controller" parameters="{station:n.model.station,equipment:n.model.equipment}" ng-style="{display:'block'}" ng-class="{&quot;video-height-1&quot;:number ==1,&quot;video-height-2&quot;: number == 2,&quot;video-height-3&quot;:number==3,&quot;video-height-4&quot;:number==4}"></single-video></div></div></div></div></div></div></div><div id="video-modal" md-modal="md-modal" class="modal modal-fixed-footer"><div class="modal-content black-text"><div class="row no-margin"><div class="col s12 m8"><div class="input-field col s12"><input placeholder="" id="equip_id" type="text" ng-model="video.model.equipment" ng-disabled="video.model._id" class="validate"/><label for="equip_id" class="active">设备ID</label></div><div class="input-field col s12"><input placeholder="" id="equip_name" type="text" ng-model="video.model.name" class="validate"/><label for="equip_name" class="active">设备名称</label></div><!--.input-field.col.s12--><!--    input#equipment.validate(type='text', ng-model='video.model.equipment', ng-disabled='video.model._id')--><!--    label(for='equipment', ng-class='{active: video.model.equipment}') 设备ID--><!--.input-field.col.s12--><!--    input#name.validate(type='text', ng-model='video.model.name')--><!--    label(for='name', ng-class='{active: video.model.name}') 设备名称--><div class="input-field col s12"><label class="active">摄像头类型</label><!--select(ng-model='video.model.template', md-select, ng-change='selectTemplate()')--><!--    //option(value='') 未知设备型号--><!--    option(value="video_template") 普通摄像头--><!--    option(value="ckvideo_template") 海康萤石摄像头--><!--    option(value="ipvideo_template") 云摄像头--><select ng-model="video.model.template" md-select="md-select" data="video.model" ng-change="selectTemplate()"><option ng-repeat="item in videotemplates" value="{{item.id}}" ng-selected="video.model.template == item.id">{{item.name}}</option><!--option(ng-repeat='station in project.stations.items' value='{{station.model.station}}' ng-selected='equipment.model.station == station.model.station') {{station.model.name}}--></select></div><div ng-show="video.model.template=='video_template'" class="input-field col s16"><input id="videoid" type="text" value="admin" disabled="disabled" class="validate"/><label for="videoid" ng-class="{active: video.model.address}">摄像头用户名</label></div><div ng-show="video.model.template=='video_template'" class="input-field col s16"><input id="videopassword" type="text" value="admin123" disabled="disabled" class="validate"/><label for="videopassword" ng-class="{active: video.model.address}">摄像头密码</label></div><div ng-show="video.model.template=='video_template'" class="input-field col s12"><input id="videoip" type="text" ng-model="video.model.rtspip" class="validate"/><label for="videoip" ng-class="{active:video.model.address}">摄像头ip</label></div><div ng-hide="video.model.template=='video_template'" class="input-field col s12"><input id="address" type="text" ng-model="video.model.address" class="validate"/><label for="address" ng-class="{active: video.model.address}">视频地址</label></div></div><div class="col s12 m4"><div class="row"><label>上载图片</label><div class="img-uploader model-img-upload"><image-uploader ng-model="video.model.image" dir="{{controller.options.uploadUrl}}"></image-uploader></div></div></div></div></div><div class="modal-footer modal-nav"><nav style="background-color:rgba(26,69,162)"><div class="nav-wrapper"><ul><li><a href="" ng-click="saveVideo()" title="保存设备"><i class="material-icons left">save</i><span class="hide-on-med-and-down">保存</span></a></li><li ng-show="video.model._id"><a href="" ng-click="removeVideo()" title="删除设备"><i class="material-icons left">delete</i><span class="hide-on-med-and-down">删除</span></a></li><ul class="right"><li><a href="" class="modal-action modal-close"><i class="material-icons right">close</i><span class="hide-on-med-and-down">关闭</span></a></li></ul></ul></div></nav></div></div><div id="image-path" md-modal="md-modal" class="modal image-path"><div class="row no-margin"><div style="margin-bottom: 0;width: 100%; height: 450px;" class="img-uploader"><div style="width: 100%; height: 100%;"><div style="cursor: pointer; width: 100%; height: 100%; position: relative; display: table; text-align: center;" class="img-preview"><img style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; margin: auto" ng-src="{{controller.options.uploadUrl + '/' + imagePath}}"/></div><div style="position: absolute; right: 48%; bottom: 15px;"><a ng-href="{{controller.options.uploadUrl + '/' + imagePath}}" download="{{imagePath}}" title="下载" onMouseOver="this.style.color=&quot;orange&quot;" onMouseOut="this.style.color=&quot;grey&quot;"><div class="left"><img style="width: 2.4rem;" ng-src="{{downgif}}"/></div></a></div></div></div></div></div><prompt-modal options="promptModel"></prompt-modal>